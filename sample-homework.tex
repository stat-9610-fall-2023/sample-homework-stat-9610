% (C) Brett Klamer - MIT - http://opensource.org/licenses/MIT
% Please contact me if you find any errors or make improvements
% Contact details at brettklamer.com

\documentclass[11pt,letterpaper,english,oneside]{article} % article class is a standard class
%==============================================================================
%Load Packages
%==============================================================================
\usepackage[left=1in,right=1in,top=1in,bottom=1in]{geometry} % easy page margins
\usepackage[utf8]{inputenc} % editor uses utf-8 encoding
\usepackage[T1]{fontenc} % T1 font pdf output
\usepackage{lmodern} % Latin modern roman font
\usepackage{bm, bbm} % bold and blackboard bold math symbols
\usepackage{amsmath, amsfonts, amssymb, amsthm} % math packages
\usepackage[final]{microtype} % better microtypography
\usepackage{graphicx} % for easier grahics handling
\usepackage[hidelinks, colorlinks=true, linkcolor = blue, urlcolor = blue]{hyperref} % to create hyperlinks
\usepackage{float} % tells floats to stay [H]ere!
\usepackage{enumitem} % nice lists
\usepackage{fancyhdr} % nice headers
\usepackage{caption}  % to control figure and table captions
\usepackage{booktabs} % to create nice tables

\captionsetup{width=0.9\textwidth, justification = raggedright}

%==============================================================================
% Enter name and homework title here
%==============================================================================
\author{Eugene Katsevich}
\title{Sample Homework}
\date{August 27, 2023}

%==============================================================================
% Put title and author in PDF properties
%==============================================================================
\makeatletter % change interpretation of @
\hypersetup{pdftitle={\@title},pdfauthor={\@author}}


%==============================================================================
% Header settings
%==============================================================================
\pagestyle{fancy} % turns on fancy header styles
\fancyhf{} % clear all header and footer fields
\makeatletter
\lhead{\@author} % left header
\chead{\@title} % center header
\makeatother
\rhead{Page \thepage} % right header
\setlength{\headheight}{13.6pt} % fixes minor warning
\makeatother % change back interpretation of @

%==============================================================================
% List spacing
%==============================================================================
\setlist[itemize]{parsep=0em} % fix itemize spacing
\setlist[enumerate]{parsep=0em} % fix enumerate spacing

%==============================================================================
% Float spacing (changes spacing of tables, graphs, etc)
%==============================================================================
%\setlength{\textfloatsep}{3pt}
%\setlength{\intextsep}{3pt}

%==============================================================================
% Define Problem and Solution Environments
%==============================================================================
\theoremstyle{definition} % use definition's look
\newtheorem{problem}{Problem}
\newtheorem{solution}{Solution}
\newenvironment{prob}{\clearpage \begin{problem}\hspace{0pt}}{\end{problem}}
\newenvironment{sol}{\begin{solution}\hspace{0pt}}{\end{solution}}

\begin{document}


\maketitle

\begin{prob} \textbf{Quadratic theorem.} \\

\noindent Consider a right triangle with legs of lengths $a$ and $b$ and hypotenuse of length $c$.
\begin{enumerate}
\item[(a)] State the Pythagorean theorem.
\item[(b)] Who initially proposed this theorem?
\end{enumerate}

\end{prob}

\begin{sol}

\begin{enumerate}
  \item[(a)] $a^2 + b^2 = c^2.$
  \item[(b)] Pythagoras.
\end{enumerate}


\end{sol}

\begin{prob} \textbf{Simulation of normal random variables.} \\

\noindent Consider $X_1, \dots, X_n \overset{\text{i.i.d.}}\sim N(0,1)$.
\begin{enumerate}
\item[(a)] Draw $n = 1000$ random samples and create a histogram of their distribution.
\item[(b)] Comment on the shape of your histogram.
\end{enumerate}

\end{prob}
\begin{sol}

\begin{enumerate}
\item[(a)] Figure~\ref{fig:std-norm-hist} shows the desired histogram.

\begin{figure}[h!]
\centering
\includegraphics{figures-and-tables/normal-histogram.pdf}
\caption{A sample of 1000 standard normal random variables.}
\label{fig:std-norm-hist}
\end{figure}

\item[(b)] The histogram looks bell-shaped, as one would expect.
\end{enumerate}

\end{sol}


\begin{prob} \textbf{Data analysis: Diamonds.} \\

\noindent Consider the \texttt{diamonds} dataset built into \texttt{ggplot2}, whose first few rows are shown below.

\input{figures-and-tables/diamonds-data.tex}

\begin{enumerate}
\item[(a)] Create a histogram of the diamond price, and comment on its shape.
\item[(b)] Create a table of average price by diamond cut, and comment on any trends.
\item[(c)] Run a linear regression of \texttt{price} on \texttt{carat}, and print a table of the regression summary. Comment on the results.
\end{enumerate}

\end{prob}

\begin{sol}

\begin{enumerate}
  \item[(a)] Figure~\ref{fig:price-hist} shows the distribution of diamond price. We see that the distribution has a long right tail.

  \begin{figure}[h!]
    \centering
    \includegraphics{figures-and-tables/price-histogram.pdf}
    \caption{The distribution of \texttt{price} in the \texttt{diamonds} dataset.}
    \label{fig:price-hist}
  \end{figure}

  \item[(b)] Table~\ref{tab:diamond-price-by-cut} shows the mean diamond price by cut. Surprisingly, the mean diamond price appears to \textit{decrease} as cut improves!
  \input{figures-and-tables/diamond-price-by-cut.tex}

  \item[(c)] Table~\ref{tab:regression-output} shows the regression output. It appears that the carat of a diamond has an extremely significant impact on its price.

  \input{figures-and-tables/regression-output.tex}
\end{enumerate}


\end{sol}

\end{document}
